# 功能需求

提供一个多租户系统，实现肖氏水电及雄健物流的商品出入库管理、及肖氏水电零售功能

## 多租户系统

系统按租户划分数据，每个租户具有多个用户，且每个租户具有自己独立的角色，以保证权限与其他租户隔离。

- 仅最高管理员可以使用租户分配系统，租户不应看到和使用该功能
- 租户可以修改自己的租户信息与配置信息(暂不实现)
- 租户可以创建该租户下的新用户(需拥有创建用户的权限)
- 租户可以创建该租户下的新角色，并为其分配权限(需拥有创建角色的权限)
- 租户创建的用户不能没有角色，空权限的用户禁止进入系统

## 租户(Tenant)

租户唯一id凭据为snowflake distributed id，该id不可重复。

租户可自定义名称，用于前端页面展示，以及在后续查询数据时显示租户信息一些操作中展示。

若租户的状态(status)为disable时，则该租户下的所有用户都无法登录(TenantDisableException)。

## 用户(User)

用户必须以租户下的用户进行创建，不提供注册功能。

用户可以自行修改信息，如名称、密码、邮箱、手机号、联系地址等。

用户状态为disable时，将无法登录。如果用户在线并被设置为disable，则清空用户登录信息强制下线，并将其状态设置为disable。

需要记录用户的登录信息，如：

- 登录用户id
- 登录用户名称
- 登录时间
- 登录ip
- 登录浏览器(browser)
- 登录平台(platform)
- 登录系统(os)
- 登录地址
    - 省
    - 市
    - 县

需要记录用户的操作信息，如:

- 请求ip
- 请求url
- 请求http方法
- 请求参数
- 浏览器
- 平台
- 系统
- 操作时间
- 请求人员id
- 请求人员名称
- 操作状态(0 异常, 1 正常)
- 请求返回结果集
